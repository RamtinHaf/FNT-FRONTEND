"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("vue"),n=e.defineComponent({name:"ChevronRightIcon"}),t={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-chevron-right"},o=e.createVNode("polyline",{points:"9 18 15 12 9 6"},null,-1);n.render=function(n,r,i,u,a,l){return e.openBlock(),e.createBlock("svg",t,[o])},n.__file="src/components/icons/ChevRightIcon.vue";var r=e.defineComponent({name:"PlusIcon"}),i={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",class:"feather feather-plus"},u=e.createVNode("line",{x1:"12",y1:"5",x2:"12",y2:"19"},null,-1),a=e.createVNode("line",{x1:"5",y1:"12",x2:"19",y2:"12"},null,-1);r.render=function(n,t,o,r,l,c){return e.openBlock(),e.createBlock("svg",i,[u,a])},r.__file="src/components/icons/PlusIcon.vue";var l=e.defineComponent({name:"PlusIcon"}),c={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",class:"feather feather-minus"},s=e.createVNode("line",{x1:"5",y1:"12",x2:"19",y2:"12"},null,-1);l.render=function(n,t,o,r,i,u){return e.openBlock(),e.createBlock("svg",c,[s])},l.__file="src/components/icons/MinusIcon.vue";var d={primary:"#0080ff",textColor:"#000",menuBgColor:"#fff",textSelectedColor:"#fff",hoverBackground:"#89c4ff"};function f(e){for(var n=void 0,t=e[0],o=1;o<e.length;){var r=e[o],i=e[o+1];if(o+=2,("optionalAccess"===r||"optionalCall"===r)&&null==t)return;"access"===r||"optionalAccess"===r?(n=t,t=i(t)):"call"!==r&&"optionalCall"!==r||(t=i((function(){for(var e=[],o=arguments.length;o--;)e[o]=arguments[o];return t.call.apply(t,[n].concat(e))})),n=void 0)}return t}var m=e.defineComponent({name:"Menu",components:{ChevRightIcon:n,PlusIcon:r,MinusIcon:l},props:{data:{type:Array,default:[]},flip:{type:Boolean,default:!1},onSelection:{type:Function,default:null},onClose:{type:Function,default:null,required:!0},theme:{type:Object,required:!1,default:d},menuStyle:{type:String,default:"slided_out",required:!1}},setup:function(n){var t=e.ref(-1),o=e.ref(n.data.map((function(e){return Object.assign({},e,{id:"menu-item-"+Math.random().toString(16),showSubMenu:!1})}))),r=e.ref(),i=e.resolveComponent("Menu"),u=function(e,t,o,r){o?a(t,r):e&&f([n,"optionalAccess",function(e){return e.onSelection},"call",function(n){return n(e)}])},a=function(e,n){o.value=o.value.map((function(t){return Object.assign({},t,{showSubMenu:t.id===e&&!t.showSubMenu,subMenu:n&&t.id===e?{items:f([t,"access",function(e){return e.subMenu},"optionalAccess",function(e){return e.items},"access",function(e){return e.map},"call",function(e){return e((function(e,n){return Object.assign({},e,{selected:0===n})}))}])}:t.subMenu})}))},l=e.computed((function(){return{"--background":n.theme.primary,"--menu-background":n.theme.menuBgColor,"--menu-text-color":n.theme.textColor,"--text-selected-color":n.theme.textSelectedColor,"--hover-background":n.theme.hoverBackground}}));e.onMounted((function(){f([r,"access",function(e){return e.value},"optionalAccess",function(e){return e.focus},"call",function(e){return e()}]),e.nextTick((function(){f([n,"access",function(e){return e.data},"access",function(e){return e[0]},"optionalAccess",function(e){return e.selected}])&&(t.value=0)}))}));e.watch(t,(function(e){o.value=o.value.map((function(n,t){return Object.assign({},n,{selected:t===e})}))}));var c=e.computed((function(){return"sub-menu-wrapper "+n.menuStyle})),s=e.computed((function(){return"menu-item-wrapper "+n.menuStyle})),d=e.computed((function(){return"accordion"===n.menuStyle}));return{menuItems:o,handleMenuItemClick:function(e,n,o,r,i,a,l){e.stopPropagation(),e.preventDefault(),a||l||(t.value=i,u(o,n,r,!1))},SubMenuComponent:i,getTheme:l,menuRef:r,handleKeyUp:function(e){e.preventDefault(),e.stopPropagation();var r=t.value,i=o.value[r>-1?r:0],l=e.key,c=n.data.length,s=n.flip;if("ArrowDown"===l)r<c-1?f([o,"access",function(e){return e.value},"access",function(e){return e[r+1]},"optionalAccess",function(e){return e.divider}])?t.value=r+2<c?r+2:0:t.value+=1:r===c-1&&(t.value=0);else if("ArrowUp"===l){var d=f([o,"access",function(e){return e.value},"access",function(e){return e[r-1]},"optionalAccess",function(e){return e.divider}])?r-2:r-1<0?c-1:r-1;t.value=d}else"ArrowLeft"===l?s?i.subMenu&&a(i.id,!0):n.onClose("ArrowLeft"):"Enter"===l?i.subMenu?a(i.id,!0):u(i.name,i.id,!!i.subMenu):"ArrowRight"===l?!s&&i.subMenu?a(i.id,!0):s&&n.onClose("ArrowRight"):"Escape"===l&&n.onClose()},activeIndex:t,handleSubmenuClose:function(){o.value=o.value.map((function(e){return Object.assign({},e,{showSubMenu:!1})})),f([r,"access",function(e){return e.value},"optionalAccess",function(e){return e.focus},"call",function(e){return e()}])},subMenuClass:c,menuItemClass:s,isAccordion:d}}}),p=e.withScopeId("data-v-9bcc0be2");e.pushScopeId("data-v-9bcc0be2");var v={key:0,class:"menu-item-icon"},h={key:1,class:"menu-item-divider"};e.popScopeId();var g=p((function(n,t,o,r,i,u){var a=e.resolveComponent("chev-right-icon"),l=e.resolveComponent("plus-icon"),c=e.resolveComponent("minus-icon");return e.openBlock(),e.createBlock("div",{ref:"menuRef",class:"menu-wrapper",tabindex:"0",onKeyup:t[2]||(t[2]=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return n.handleKeyUp&&n.handleKeyUp.apply(n,e)})},[e.createVNode("ul",{class:"menu-list",style:n.getTheme},[(e.openBlock(!0),e.createBlock(e.Fragment,null,e.renderList(n.menuItems,(function(o,r){var i=o.id,u=o.selected,s=o.name,d=o.subMenu,f=o.showSubMenu,m=o.disabled,g=o.divider,y=o.iconSlot;return e.openBlock(),e.createBlock("li",{key:i,class:[{"sub-menu":d,selected:u,disabled:m,flip:n.flip,divider:g},"menu-list-item",n.menuStyle],style:n.getTheme,onMousedown:function(e){return n.handleMenuItemClick(e,i,s,d,r,m,g)}},[g?(e.openBlock(),e.createBlock("span",h)):(e.openBlock(),e.createBlock(e.Fragment,{key:0},[e.createVNode("div",{class:n.menuItemClass,onClick:t[1]||(t[1]=function(e){return e.stopPropagation()})},[y?(e.openBlock(),e.createBlock("span",v,[e.renderSlot(n.$slots,y)])):e.createCommentVNode("v-if",!0),e.createVNode("span",{class:["name",{disabled:m}]},e.toDisplayString(s),3),d?(e.openBlock(),e.createBlock("span",{key:1,class:["chev-icon",{disabled:m,"show-submenu":f},n.menuStyle]},[n.isAccordion?e.createCommentVNode("v-if",!0):(e.openBlock(),e.createBlock(a,{key:0})),d&&!f&&n.isAccordion?(e.openBlock(),e.createBlock(l,{key:1})):e.createCommentVNode("v-if",!0),d&&f&&n.isAccordion?(e.openBlock(),e.createBlock(c,{key:2})):e.createCommentVNode("v-if",!0)],2)):e.createCommentVNode("v-if",!0)],2),!m&&f?(e.openBlock(),e.createBlock("div",{key:0,class:n.subMenuClass,style:n.getTheme},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(n.SubMenuComponent),{data:d.items,"on-selection":n.onSelection,theme:n.theme,"on-close":n.handleSubmenuClose,flip:n.flip,"menu-style":n.menuStyle},e.createSlots({_:2},[e.renderList(Object.keys(n.$slots),(function(t){return{name:t,fn:p((function(o){return[e.renderSlot(n.$slots,t,o)]}))}}))]),1032,["data","on-selection","theme","on-close","flip","menu-style"]))],6)):e.createCommentVNode("v-if",!0)],64))],46,["onMousedown"])})),128))],4)],544)}));m.render=g,m.__scopeId="data-v-9bcc0be2",m.__file="src/components/Menu.vue";var y={name:"XIcon"},w={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-x"},b=e.createVNode("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1),k=e.createVNode("line",{x1:"6",y1:"6",x2:"18",y2:"18"},null,-1);y.render=function(n,t,o,r,i,u){return e.openBlock(),e.createBlock("svg",w,[b,k])},y.__file="src/components/icons/XIcon.vue";var C=e.defineComponent({name:"MenuIcon"}),M={xmlns:"http://www.w3.org/2000/svg",width:"50%",height:"50%",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-menu"},x=e.createVNode("line",{x1:"3",y1:"12",x2:"21",y2:"12"},null,-1),E=e.createVNode("line",{x1:"3",y1:"6",x2:"21",y2:"6"},null,-1),S=e.createVNode("line",{x1:"3",y1:"18",x2:"21",y2:"18"},null,-1);C.render=function(n,t,o,r,i,u){return e.openBlock(),e.createBlock("svg",M,[x,E,S])},C.__file="src/components/icons/MenuIcon.vue";var B=function(e,n,t,o){var r=e.getBoundingClientRect(),i=r.top,u=r.bottom,a=Math.round((n.clientWidth-t)/2),l=n.clientHeight,c="bottom",s=null;return l>i?(s={top:t+15+"px",left:"-"+a+"px"},c="top"):window.innerHeight-u<l?(s={bottom:t+15+"px",left:"-"+a+"px"},c="bottom"):(s={top:t+15+"px",left:"-"+a+"px"},c="top"),Object.assign({},s,{"min-height":o.height+"px",width:o.width+"px",newOrientation:c})},L=function(e,n,t,o){var r=e.getBoundingClientRect(),i=r.top,u=r.bottom,a=r.left,l=r.right,c=window.innerWidth,s=window.innerHeight,d=o.clientWidth,f=Math.ceil(d/2),m=null,p=!1,v=!1;return t&&(p=!1),u>s&&(m={left:n.left,top:n.top-(u-s)},v=!0),i<0&&(m={left:n.left,top:n.top+Math.abs(i)},v=!0),(a<0||a<f)&&(m={left:f,top:n.top},v=!0),(l>c||c-l<d)&&(m={left:c-d,top:n.top},t&&(p=!0),v=!0),{position:m,flip:p,reveal:v}},A=function(e,n){var t=15,o=t,r=t;switch(e){case"top left":o=t,r=t;break;case"top right":o=window.innerWidth-n-t,r=t;break;case"bottom left":o=t,r=window.innerHeight-n-t;break;case"bottom right":o=window.innerWidth-n-t,r=window.innerHeight-n-t}return{left:o+"px",top:r+"px",width:n+"px",height:n+"px"}},N={dimension:{type:Number,default:45},position:{type:String,default:"bottom right"},fixed:{type:Boolean,default:!1},menuDimension:{type:Object,default:{height:250,width:250}},menuData:{type:Array,default:[]},useCustomContent:{type:Boolean,default:!1},onSelected:{type:Function,default:null},flipOnEdges:{type:Boolean,default:!1},theme:{type:Object,required:!1,default:d},preserveMenuPosition:{type:Boolean,default:!0},menuStyle:{type:String,default:"slide-out",required:!1}};"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var I;(function(e,n){!function(){function e(e){var n=!0,t=!1,o=null,r={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function i(e){return!!(e&&e!==document&&"HTML"!==e.nodeName&&"BODY"!==e.nodeName&&"classList"in e&&"contains"in e.classList)}function u(e){var n=e.type,t=e.tagName;return!("INPUT"!==t||!r[n]||e.readOnly)||"TEXTAREA"===t&&!e.readOnly||!!e.isContentEditable}function a(e){e.classList.contains("focus-visible")||(e.classList.add("focus-visible"),e.setAttribute("data-focus-visible-added",""))}function l(e){e.hasAttribute("data-focus-visible-added")&&(e.classList.remove("focus-visible"),e.removeAttribute("data-focus-visible-added"))}function c(t){t.metaKey||t.altKey||t.ctrlKey||(i(e.activeElement)&&a(e.activeElement),n=!0)}function s(e){n=!1}function d(e){i(e.target)&&(n||u(e.target))&&a(e.target)}function f(e){i(e.target)&&(e.target.classList.contains("focus-visible")||e.target.hasAttribute("data-focus-visible-added"))&&(t=!0,window.clearTimeout(o),o=window.setTimeout((function(){t=!1}),100),l(e.target))}function m(e){"hidden"===document.visibilityState&&(t&&(n=!0),p())}function p(){document.addEventListener("mousemove",h),document.addEventListener("mousedown",h),document.addEventListener("mouseup",h),document.addEventListener("pointermove",h),document.addEventListener("pointerdown",h),document.addEventListener("pointerup",h),document.addEventListener("touchmove",h),document.addEventListener("touchstart",h),document.addEventListener("touchend",h)}function v(){document.removeEventListener("mousemove",h),document.removeEventListener("mousedown",h),document.removeEventListener("mouseup",h),document.removeEventListener("pointermove",h),document.removeEventListener("pointerdown",h),document.removeEventListener("pointerup",h),document.removeEventListener("touchmove",h),document.removeEventListener("touchstart",h),document.removeEventListener("touchend",h)}function h(e){e.target.nodeName&&"html"===e.target.nodeName.toLowerCase()||(n=!1,v())}document.addEventListener("keydown",c,!0),document.addEventListener("mousedown",s,!0),document.addEventListener("pointerdown",s,!0),document.addEventListener("touchstart",s,!0),document.addEventListener("visibilitychange",m,!0),p(),e.addEventListener("focus",d,!0),e.addEventListener("blur",f,!0),e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host?e.host.setAttribute("data-js-focus-visible",""):e.nodeType===Node.DOCUMENT_NODE&&(document.documentElement.classList.add("js-focus-visible"),document.documentElement.setAttribute("data-js-focus-visible",""))}if("undefined"!=typeof window&&"undefined"!=typeof document){var n;window.applyFocusVisiblePolyfill=e;try{n=new CustomEvent("focus-visible-polyfill-ready")}catch(e){(n=document.createEvent("CustomEvent")).initCustomEvent("focus-visible-polyfill-ready",!1,!1,{})}window.dispatchEvent(n)}"undefined"!=typeof document&&e(document)}()})(I={exports:{}},I.exports);var D=e.defineComponent({name:"FloatMenu",components:{Menu:m,XIcon:y,MenuIcon:C},props:N,setup:function(n,t){var o=t.slots,r=e.ref(null),i=e.ref(null),u=e.ref(),a=e.ref(),l=e.ref(!1),c=e.ref(),s=e.ref(null),d=e.ref("top"),f=e.ref(!1),m=e.ref(!1),p=e.ref(!1),v=e.ref(void 0!==window.ontouchstart),h=e.computed((function(){return e.unref(v)?"touchmove":"mousemove"})),g=e.computed((function(){return"touchmove"===e.unref(h)?"accordion":n.menuStyle})),y=e.computed((function(){return A(n.position,n.dimension)})),w=e.ref(!1),b=e.computed((function(){if(r.value){var t=e.unref(r);if(t)return{left:t.left+"px",top:t.top+"px",width:n.dimension+"px",height:n.dimension+"px"}}})),k=function(e){if(l.value){if(w.value&&(r.value=i.value),Array.from(e.target.classList).some((function(e){return"sub-menu"===e||"disabled"===e})))return;l.value=!1}},C=function(){var e=A(n.position,n.dimension);r.value={left:+e.left.replace(/px/gi,""),top:+e.top.replace(/px/gi,"")}},M=function(e){var t=0,o=0;if(e instanceof MouseEvent?(t=e.clientX,o=e.clientY):e instanceof TouchEvent&&(t=e.touches[0].clientX,o=e.touches[0].clientY),m.value){var i=o-Math.round(n.dimension/2);r.value={left:t-Math.round(n.dimension/2),top:i>0&&i<window.innerHeight-n.dimension?i:i<0?0:i-n.dimension}}};e.onMounted((function(){var e=A(n.position,n.dimension),t={left:+e.left.replace(/px/gi,""),top:+e.top.replace(/px/gi,"")};r.value=t,i.value=t,window.addEventListener("click",k),window.addEventListener("resize",C),window.addEventListener("mouseup",(function(e){var n=e.target.nodeName;("#document"===n||"HTML"===n)&&(p.value=!1,m.value=!1,i.value=r.value)}),{capture:!0}),!n.fixed&&a.value&&document.addEventListener(h.value,M)})),e.onUnmounted((function(){window.removeEventListener("click",k),window.removeEventListener("resize",C),document.removeEventListener(h.value,M)}));var x=e.computed((function(){return{"--background":n.theme.primary}})),E=e.computed((function(){return!Object.keys(o).length}));return{dragActive:m,flipMenu:f,getInitStyle:y,getTheme:x,handleMenuClose:function(n){"ArrowLeft"!==n&&"ArrowRight"!==n&&(l.value=!1,w.value&&(r.value=i.value),e.nextTick((function(){!function(e){for(var n=void 0,t=e[0],o=1;o<e.length;){var r=e[o],i=e[o+1];if(o+=2,("optionalAccess"===r||"optionalCall"===r)&&null==t)return;"access"===r||"optionalAccess"===r?(n=t,t=i(t)):"call"!==r&&"optionalCall"!==r||(t=i((function(){for(var e=[],o=arguments.length;o--;)e[o]=arguments[o];return t.call.apply(t,[n].concat(e))})),n=void 0)}}([u,"access",function(e){return e.value},"optionalAccess",function(e){return e.focus},"call",function(e){return e()}])})))},handleMenuItemSelection:function(e){l.value=!1,n.onSelected&&n.onSelected(e)},slotsEmpty:E,menuOrientation:d,menuActive:l,menuContainer:c,menuHead:u,menuCSS:s,style:b,toggleMenu:function(t){m.value||(t.stopPropagation(),t.preventDefault(),Array.from(t.target.classList).some((function(e){return"menu-list-item"===e}))||(l.value?w.value&&(r.value=i.value):(function(){var e=c.value,t=a.value,o=n.dimension;if(e&&t){var r=B(t,e,o,n.menuDimension);d.value=r.newOrientation,s.value=r}}(),function(t){var o=e.unref(r);if(o&&c.value){var i=L(t,o,n.flipOnEdges,c.value);f.value=i.flip,w.value=i.reveal,i.position&&(r.value=i.position)}}(u.value)),e.nextTick((function(){l.value=!l.value}))))},menuHeadContainer:a,handleDragStart:function(e){v.value||e.preventDefault(),p.value=!0},handleDragMove:function(){p.value&&(l.value=!1,m.value=!0)},handleDragEnd:function(e){var t=e.clientX,o=e.clientY;m.value&&(i.value={left:t-Math.round(n.dimension/2),top:o-Math.round(n.dimension/2)},setTimeout((function(){m.value=!1}),100)),p.value=!1},computedMenuStyle:g}}}),T=e.withScopeId("data-v-47323bf2");e.pushScopeId("data-v-47323bf2");var V={class:"menu-head-icon"};e.popScopeId();var _=T((function(n,t,o,r,i,u){var a=e.resolveComponent("MenuIcon"),l=e.resolveComponent("XIcon"),c=e.resolveComponent("Menu");return e.openBlock(),e.createBlock("div",{ref:"menuHeadContainer",class:[{dragActive:n.dragActive},"menu-head-wrapper"],style:n.style,onMousedown:t[3]||(t[3]=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return n.handleDragStart&&n.handleDragStart.apply(n,e)}),onMouseup:t[4]||(t[4]=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return n.handleDragEnd&&n.handleDragEnd.apply(n,e)}),onMousemove:t[5]||(t[5]=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return n.handleDragMove&&n.handleDragMove.apply(n,e)}),onTouchstart:t[6]||(t[6]=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return n.handleDragStart&&n.handleDragStart.apply(n,e)}),onTouchend:t[7]||(t[7]=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return n.handleDragEnd&&n.handleDragEnd.apply(n,e)}),onTouchmove:t[8]||(t[8]=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return n.handleDragMove&&n.handleDragMove.apply(n,e)}),onClick:t[9]||(t[9]=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return n.toggleMenu&&n.toggleMenu.apply(n,e)})},[e.createVNode("div",{ref:"menuHead",tabindex:"0",class:[{menuActive:n.menuActive,dragActive:n.dragActive},"menu-head"],style:n.getTheme,draggable:"false",onKeyup:t[1]||(t[1]=function(e){return 13===e.keyCode&&n.toggleMenu(e)})},[e.createVNode("span",V,[e.renderSlot(n.$slots,"icon"),e.renderSlot(n.$slots,"default"),n.slotsEmpty?(e.openBlock(),e.createBlock(a,{key:0})):e.createCommentVNode("v-if",!0)])],38),e.createVNode("div",{ref:"menuContainer",class:[{menuActive:n.menuActive},"menu-container"],style:n.menuCSS,draggable:"false"},[e.createVNode("span",{class:"close-btn",onMousedown:t[2]||(t[2]=function(e){return e.stopPropagation()&&n.handleMenuClose()})},[e.createVNode(l)],32),n.menuActive?(e.openBlock(),e.createBlock(c,{key:0,data:n.menuData,flip:n.flipMenu,"on-selection":n.handleMenuItemSelection,theme:n.theme,"on-close":n.handleMenuClose,"menu-style":n.computedMenuStyle},e.createSlots({_:2},[e.renderList(Object.keys(n.$slots),(function(t){return{name:t,fn:T((function(o){return[e.renderSlot(n.$slots,t,o)]}))}}))]),1032,["data","flip","on-selection","theme","on-close","menu-style"])):e.createCommentVNode("v-if",!0)],6)],38)}));D.render=_,D.__scopeId="data-v-47323bf2",D.__file="src/components/index.vue",exports.FloatMenu=D;
